---
marp: true

---
# 数字を選んで4桁の整数を作る

城北中学校・高等学校　数学科
清水団（しみず・だん）

---
## 教科書の問題をちょっと変えてみた。


0,1,2,3,4,5の数字があり，これらを並べてできる4桁の数を作ります。

1.〜4. の作り方で偶数と奇数は何個ずつできるでしょうか？

（最高位に0がくるものはだめです。）

（偶数と奇数は同じくらいできるのか？）

1. 同じ数字を使ってはいけない。
2. 同じ数字を2回まで使ってよい。
3. 同じ数字を3回まで使ってよい
4. 同じ数字を何回でも使ってよい。
   



---
## Julia言語

PCを持っている人はダウンロードしてやってみよう！

https://julialang.org/downloads/



---

## VSCode

マイクロソフトのVSCodeもダウンロードして使ってみよう！

https://code.visualstudio.com/download

Mac + VSCode + jupyter nootbook + Julia の環境で使っています。

---

## コード（1）　パッケージの読み込み

まずは組み合わせのパッケージを読み込み

`using Combinatorics`

初めてこのパッケージを利用するときは，読み込む前にパッケージを追加する。

`import Pkg; Pkg.add("Combinatorics")`



---


## コード（2） 4桁の整数を作る。

一般的に作りました。$N$個の数字を配列で与え，$n$桁の整数を作る関数`permketa`を作りました。最高位が$0$のときは除きます。

```
function permketa(seq,n=length(seq))
    q=[]
    p = permutations(seq, n)
    for i in p
        if i[1] != 0
            push!(q, i)
        end
    end
    union(q)
end
```

---

## コード（3） 全体・偶数・奇数の数を調べる。

コード(2)の結果を受けて，偶数の数を調べる。関数`evencount`を作りました。

```
function evencount(p1)
    k=0
    m=length(p1)
    for i=1:m
        if mod(p1[i][length(p1[i])],2) == 0
            k+=1
        end
    end
    return k
end
```

---
##  同じ数字を使ってはいけない。
```
seq = [0,1, 2, 3, 4, 5];
p = permketa(seq, 4) |>length
q = permketa(seq, 4) |>evencount
println("全部で", p,"個，偶数は",q,"個，奇数は",p-q,"個です。")
```
全部で300個，偶数は156個，奇数は144個です。

＞偶数の方が多いですね。

---
##  同じ数字を2回まで使ってよい。
```
seq = [0 ,1, 2, 3, 4, 5 ,0 ,1, 2, 3, 4, 5 ];
p = permketa(seq, 4) |>length
q = permketa(seq, 4) |>evencount
println("全部で", p,"個，偶数は",q,"個，奇数は",p-q,"個です。")
```
全部で975個，偶数は492個，奇数は483個です。

＞これも，偶数の方が多いですね。

---
##  同じ数字を3回まで使ってよい。
```
seq = [0 ,1, 2, 3, 4, 5 ,0 ,1, 2, 3, 4, 5 ,0 ,1, 2, 3, 4, 5 ];
p = permketa(seq, 4) |>length
q = permketa(seq, 4) |>evencount
println("全部で", p,"個，偶数は",q,"個，奇数は",p-q,"個です。")
```
全部で1075個，偶数は538個，奇数は537個です。

＞これも，偶数の方が多いけど，差は1だ！

---
##  同じ数字を何回でも使ってよい。
```
seq = [0 ,1, 2, 3, 4, 5 ,0 ,1, 2, 3, 4, 5 ,0 ,1, 2, 3, 4, 5  ,1, 2, 3, 4, 5 ];
p = permketa(seq, 4) |>length
q = permketa(seq, 4) |>evencount
println("全部で", p,"個，偶数は",q,"個，奇数は",p-q,"個です。")
```
全部で1080個，偶数は540個，奇数は540個です。

＞偶数と奇数は同じ数ですね。

---
##  偶数と奇数の差が1というのが気になる！
「0,1,2,3,4,5 から4桁の数を作る。同じ数字を3回まで使ってよい。」というときに「偶数と奇数の差が1」になるのが気になります。ちょっと条件を変えてみました。

### 0,1,2,3 から4桁の数を作る。同じ数字を3回まで使ってよい。

```
seq = [0 ,1, 2, 3 ,0 ,1, 2, 3,0 ,1, 2, 3 ];
p = permketa(seq, 4) |>length
q = permketa(seq, 4) |>evencount
println("全部で", p,"個，偶数は",q,"個，奇数は",p-q,"個です。")
```
全部で189個，偶数は95個，奇数は94個です。

＞偶数と奇数の差が1だ。

---
### 0,1,2,3,4 から4桁の数を作る。同じ数字を3回まで使ってよい。

```
seq = [0 ,1, 2, 3,4 ,0 ,1, 2, 3,4,0 ,1, 2, 3,4 ];
p = permketa(seq, 4) |>length
q = permketa(seq, 4) |>evencount
println("全部で", p,"個，偶数は",q,"個，奇数は",p-q,"個です。")
```
全部で496個，偶数は298個，奇数は198個です。

＞これは偶数と奇数の差が1ではない。。。

---
### 0,1,2,3,4,5,6 から4桁の数を作る。同じ数字を3回まで使ってよい。

```
seq = [0 ,1, 2, 3,4,5,6 ,0 ,1, 2, 3,4,5,6,0 ,1, 2, 3,4,5,6 ];
p = permketa(seq, 4) |>length
q = permketa(seq, 4) |>evencount
println("全部で", p,"個，偶数は",q,"個，奇数は",p-q,"個です。")
```
全部で2052個，偶数は1173個，奇数は879個です。

＞これは偶数と奇数の差が1ではない。。。

---

### 0,1,2,3,4,5 から5桁の数を作る。同じ数字を3回まで使ってよい。

```
seq = [0 ,1, 2, 3, 4, 5 ,0 ,1, 2, 3, 4, 5  ,0 ,1, 2, 3, 4, 5  ,0 ,1, 2, 3, 4, 5  ];
p = permketa(seq, 5) |>length
q = permketa(seq, 5) |>evencount
println("全部で", p,"個，偶数は",q,"個，奇数は",p-q,"個です。")
```
全部で6475個，偶数は3238個，奇数は3237個です。

＞偶数と奇数の差が1だ!!

---


### 0,1,2,3,4,5 から6桁の数を作る。同じ数字を3回まで使ってよい。

```
seq = [0 ,1, 2, 3, 4, 5 ,0 ,1, 2, 3, 4, 5  ,0 ,1, 2, 3, 4, 5  ,0 ,1, 2, 3, 4, 5  ];
p = permketa(seq, 6) |>length
q = permketa(seq, 6) |>evencount
println("全部で", p,"個，偶数は",q,"個，奇数は",p-q,"個です。")
```
全部で38725個，偶数は19372個，奇数は19353個です。（3m11.2s）

＞偶数と奇数の差が1だ!!!

---

## まとめ
|条件|偶数-奇数=1|
|:---|:---:|
|0,1,2,3 から4桁の数を作る。同じ数字を3回まで使ってよい。|○|
|0,1,2,3,4 から4桁の数を作る。同じ数字を3回まで使ってよい。|×|
|0,1,2,3,4,5 から4桁の数を作る。同じ数字を3回まで使ってよい。|○|
|0,1,2,3,4,5,6 から4桁の数を作る。同じ数字を3回まで使ってよい。|×|
|0,1,2,3,4,5 から5桁の数を作る。同じ数字を3回まで使ってよい。|○|
|0,1,2,3,4,5 から6桁の数を作る。同じ数字を3回まで使ってよい。|○|

どんな規則性があるのでしょうか？

